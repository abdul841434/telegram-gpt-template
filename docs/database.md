# ðŸ—„ Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…

Ð‘Ð¾Ñ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ SQLite Ð´Ð»Ñ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð¸ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸ Ð´Ð¸Ð°Ð»Ð¾Ð³Ð¾Ð².

## Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…

### Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° `conversations`

ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð° Ð´Ð»Ñ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸ Ð¾ Ð´Ð¸Ð°Ð»Ð¾Ð³Ð°Ñ… (ÐºÐ°Ðº Ð»Ð¸Ñ‡Ð½Ñ‹Ñ…, Ñ‚Ð°Ðº Ð¸ Ð³Ñ€ÑƒÐ¿Ð¿Ð¾Ð²Ñ‹Ñ…).

| ÐŸÐ¾Ð»Ðµ | Ð¢Ð¸Ð¿ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|------|-----|----------|
| `id` | INTEGER | Telegram chat ID (PRIMARY KEY) |
| `name` | TEXT | Username Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð¸Ð»Ð¸ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ñ‡Ð°Ñ‚Ð° |
| `prompt` | JSON | Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð´Ð¸Ð°Ð»Ð¾Ð³Ð° (Ð¼Ð°ÑÑÐ¸Ð² ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹) |
| `sub_lvl` | INTEGER | Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÐ¸ |
| `sub_id` | TEXT | ID Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÐ¸ |
| `sub_period` | INTEGER | ÐŸÐµÑ€Ð¸Ð¾Ð´ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÐ¸ |
| `is_admin` | INTEGER | Ð¤Ð»Ð°Ð³ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð° |
| `subscription_verified` | INTEGER | Ð¤Ð»Ð°Ð³ Ð²ÐµÑ€Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÐ¸ Ð½Ð° ÐºÐ°Ð½Ð°Ð»Ñ‹ |
| `referral_code` | TEXT | Ð£Ð½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ€ÐµÑ„ÐµÑ€Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÐºÐ¾Ð´ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ |

### Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° `messages`

ÐžÑ‚Ð´ÐµÐ»ÑŒÐ½Ð°Ñ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð° Ð´Ð»Ñ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ð²ÑÐµÑ… ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ (Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸ Ð¸ Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ¸).

| ÐŸÐ¾Ð»Ðµ | Ð¢Ð¸Ð¿ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|------|-----|----------|
| `id` | INTEGER | ÐŸÐµÑ€Ð²Ð¸Ñ‡Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ (Ð°Ð²Ñ‚Ð¾Ð¸Ð½ÐºÑ€ÐµÐ¼ÐµÐ½Ñ‚) |
| `chat_id` | INTEGER | Telegram chat ID |
| `role` | TEXT | Ð Ð¾Ð»ÑŒ: `"user"` Ð¸Ð»Ð¸ `"assistant"` |
| `content` | TEXT | Ð¢ÐµÐºÑÑ‚ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ |

### Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° `chat_verifications`

Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° Ð´Ð»Ñ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ Ð²ÐµÑ€Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÐ¸ Ð² Ð³Ñ€ÑƒÐ¿Ð¿Ð¾Ð²Ñ‹Ñ… Ñ‡Ð°Ñ‚Ð°Ñ….

| ÐŸÐ¾Ð»Ðµ | Ð¢Ð¸Ð¿ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|------|-----|----------|
| `chat_id` | INTEGER | ID Ð³Ñ€ÑƒÐ¿Ð¿Ð¾Ð²Ð¾Ð³Ð¾ Ñ‡Ð°Ñ‚Ð° (PRIMARY KEY) |
| `verifier_id` | INTEGER | ID Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ð» Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÑƒ |
| `verified_at` | TEXT | Ð”Ð°Ñ‚Ð° Ð¸ Ð²Ñ€ÐµÐ¼Ñ Ð²ÐµÑ€Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ |

## Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð² Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸

ÐšÐ°Ð¶Ð´Ð¾Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð² Ð¿Ð¾Ð»Ðµ `prompt` Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ `conversations` Ð¸Ð¼ÐµÐµÑ‚ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÑƒÑŽ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ:

```json
{
  "role": "user",
  "content": "Ð¢ÐµÐºÑÑ‚ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ",
  "timestamp": "2025-12-08 15:30:45"
}
```

| ÐŸÐ¾Ð»Ðµ | Ð¢Ð¸Ð¿ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|------|-----|----------|
| `role` | string | Ð Ð¾Ð»ÑŒ: `"user"` Ð¸Ð»Ð¸ `"assistant"` |
| `content` | string | Ð¢ÐµÐºÑÑ‚ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ |

**ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ:** Ð¡Ñ‚Ð°Ñ€Ñ‹Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ, ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð¾ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸, Ð¼Ð¾Ð³ÑƒÑ‚ Ð¸Ð¼ÐµÑ‚ÑŒ `timestamp: null`.

## Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð¾Ð¼

Ð‘Ð¾Ñ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð´Ð²Ð° Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð° Ð´Ð»Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð¾Ð¼ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸ Ð´Ð¸Ð°Ð»Ð¾Ð³Ð°:

- **`MAX_CONTEXT`** (Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ: 20) â€” ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ñ… ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹, Ð¿ÐµÑ€ÐµÐ´Ð°Ð²Ð°ÐµÐ¼Ñ‹Ñ… Ð² ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ LLM Ð¼Ð¾Ð´ÐµÐ»Ð¸
- **`MAX_STORAGE`** (Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ: 100) â€” Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹, Ñ…Ñ€Ð°Ð½Ð¸Ð¼Ñ‹Ñ… Ð² Ð±Ð°Ð·Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…

ÐšÐ¾Ð³Ð´Ð° ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ Ð¿Ñ€ÐµÐ²Ñ‹ÑˆÐ°ÐµÑ‚ `MAX_STORAGE`, ÑÑ‚Ð°Ñ€Ñ‹Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑƒÐ´Ð°Ð»ÑÑŽÑ‚ÑÑ.

## Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¹

Ð‘Ð¾Ñ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½ÑƒÑŽ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¹ Ð´Ð»Ñ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ….

### ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸

1. ÐŸÑ€Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐµ Ð±Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚ Ñ‚ÐµÐºÑƒÑ‰ÑƒÑŽ Ð²ÐµÑ€ÑÐ¸ÑŽ Ð‘Ð”
2. ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÐµÑ‚ Ð²ÑÐµ Ð½Ð¾Ð²Ñ‹Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸
3. Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ Ð²ÐµÑ€ÑÐ¸ÑŽ Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ `schema_version`

### Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¹

| ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ñ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|----------|----------|
| `001` | Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ `timestamp` Ð² ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ |
| `002` | Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾Ð¹ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ `messages` |
| `006` | Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ„Ð»Ð°Ð³Ð° `subscription_verified` |
| `007` | Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ `chat_verifications` |
| `008` | ÐŸÐµÑ€ÐµÐ¸Ð¼ÐµÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ `users` â†’ `conversations` |
| `009` | ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° legacy Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ð¹ |
| `010` | Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ€ÐµÑ„ÐµÑ€Ð°Ð»ÑŒÐ½Ñ‹Ñ… ÐºÐ¾Ð´Ð¾Ð² |

ðŸ“– **[ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ Ð¾ ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¹ â†’](migrations.md)**

## Ð Ð°Ð±Ð¾Ñ‚Ð° Ñ Ð±Ð°Ð·Ð¾Ð¹ Ð´Ð°Ð½Ð½Ñ‹Ñ…

### Ð‘ÑÐºÐ°Ð¿ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…

```bash
# Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ð² SQL
sqlite3 data/users.db .dump > backup.sql

# Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚ Ð¸Ð· SQL
sqlite3 data/users.db < backup.sql

# ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ„Ð°Ð¹Ð»Ð° Ð‘Ð”
cp data/users.db backups/users-$(date +%Y%m%d).db
```

### ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð´Ð°Ð½Ð½Ñ‹Ñ…

```bash
# ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð±Ð°Ð·Ñƒ Ð² SQLite CLI
sqlite3 data/users.db

# ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²:

# ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹
SELECT COUNT(*) FROM conversations;

# ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ 10 Ð´Ð¸Ð°Ð»Ð¾Ð³Ð¾Ð²
SELECT id, name, datetime(remind_of_yourself) as next_reminder 
FROM conversations 
ORDER BY remind_of_yourself DESC 
LIMIT 10;

# Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ Ð¿Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŽ
SELECT chat_id, role, COUNT(*) as count
FROM messages
WHERE chat_id = 123456789
GROUP BY role;
```

### ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° ÑÑ‚Ð°Ñ€Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…

```bash
# Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ
sqlite3 data/users.db "DELETE FROM messages WHERE chat_id = 123456789"

# ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð²ÑÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ñ€ÑˆÐµ 30 Ð´Ð½ÐµÐ¹
sqlite3 data/users.db "DELETE FROM messages WHERE datetime(timestamp) < datetime('now', '-30 days')"
```

### Ð’Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð¾ÑÐ»Ðµ Ð¾ÑˆÐ¸Ð±ÐºÐ¸

Ð•ÑÐ»Ð¸ Ð±Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ð¾Ð²Ñ€ÐµÐ¶Ð´ÐµÐ½Ð°:

```bash
# Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾
rm data/users.db
python main.py  # Ð‘Ð” Ð±ÑƒÐ´ÐµÑ‚ ÑÐ¾Ð·Ð´Ð°Ð½Ð° Ð·Ð°Ð½Ð¾Ð²Ð¾

# Docker Compose
docker-compose down -v
docker-compose up -d
```

## Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ

âš ï¸ **Ð’Ð°Ð¶Ð½Ð¾:**

1. **Ð ÐµÐ·ÐµÑ€Ð²Ð½Ð¾Ðµ ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ**
   - Ð ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ð¾ Ð´ÐµÐ»Ð°Ð¹Ñ‚Ðµ Ð±ÑÐºÐ°Ð¿Ñ‹ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…
   - Ð¥Ñ€Ð°Ð½Ð¸Ñ‚Ðµ Ð±ÑÐºÐ°Ð¿Ñ‹ Ð² Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾Ð¼ Ð¼ÐµÑÑ‚Ðµ
   - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð±ÑÐºÐ°Ð¿Ñ‹ Ñ‡ÐµÑ€ÐµÐ· cron

2. **ÐŸÑ€Ð°Ð²Ð° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°**
   - ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÑŒÑ‚Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ñ„Ð°Ð¹Ð»Ñƒ Ð‘Ð”: `chmod 600 data/users.db`
   - ÐÐµ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚ÑŒÑ‚Ðµ Ð±Ð°Ð·Ñƒ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð² git
   - Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ñ‹Ðµ ÐºÐ°Ð½Ð°Ð»Ñ‹ Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‡Ð¸ Ð±ÑÐºÐ°Ð¿Ð¾Ð²

3. **ÐŸÑ€Ð¸Ð²Ð°Ñ‚Ð½Ð¾ÑÑ‚ÑŒ**
   - Ð‘Ð°Ð·Ð° ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ð¿Ð¾Ð»Ð½ÑƒÑŽ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ Ð´Ð¸Ð°Ð»Ð¾Ð³Ð¾Ð² Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹
   - Ð¡Ð¾Ð±Ð»ÑŽÐ´Ð°Ð¹Ñ‚Ðµ Ð·Ð°ÐºÐ¾Ð½Ñ‹ Ð¾ Ð·Ð°Ñ‰Ð¸Ñ‚Ðµ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…
   - Ð£Ð´Ð°Ð»ÑÐ¹Ñ‚Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ð¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÑƒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ

## ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ

SQLite Ð¾Ñ‚Ð»Ð¸Ñ‡Ð½Ð¾ Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚ Ð´Ð»Ñ Ð±Ð¾Ñ‚Ð¾Ð² Ñ Ð½ÐµÐ±Ð¾Ð»ÑŒÑˆÐ¾Ð¹ Ð¸ ÑÑ€ÐµÐ´Ð½ÐµÐ¹ Ð½Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¾Ð¹ (Ð´Ð¾ 10-20 Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð² ÑÐµÐºÑƒÐ½Ð´Ñƒ).

### ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ

Ð•ÑÐ»Ð¸ Ð±Ð¾Ñ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾:

```bash
# ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…
sqlite3 data/users.db "VACUUM;"

# ÐÐ½Ð°Ð»Ð¸Ð· ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸ Ð´Ð»Ñ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ‚Ð¾Ñ€Ð° Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²
sqlite3 data/users.db "ANALYZE;"
```

### ÐšÐ¾Ð³Ð´Ð° Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ñ‚ÑŒ Ð½Ð° PostgreSQL/MySQL

Ð Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÑŽ Ð½Ð° Ð¿Ð¾Ð»Ð½Ð¾Ñ†ÐµÐ½Ð½ÑƒÑŽ Ð¡Ð£Ð‘Ð” ÐµÑÐ»Ð¸:
- Ð‘Ð¾Ð»ÐµÐµ 1000 Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹
- Ð‘Ð¾Ð»ÐµÐµ 100 ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ Ð² Ð¼Ð¸Ð½ÑƒÑ‚Ñƒ
- ÐÑƒÐ¶Ð½Ð° Ñ€ÐµÐ¿Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ Ð¸Ð»Ð¸ Ð²Ñ‹ÑÐ¾ÐºÐ°Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ÑÑ‚ÑŒ
- Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ð¼Ð¸ ÑÐµÑ€Ð²ÐµÑ€Ð°Ð¼Ð¸

---

**[â† Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ðº README](../README.md)**

